import React,{useRef,useState}  from "react";

import { connect } from "react-redux";


import {Addemp} from '../../actions/empActions'

const Addemployee=({Addemp})=>
{
// const [data,setdata]=useState({name:'',role:'',salary:''});
const [userErr,setuserErr]=useState(false);
const [userErr1,setuserErr2]=useState(true);
const [userErr3,setuserErr4]=useState(true);
const name=useRef(null);
const role=useRef(null);
const salary=useRef(null);
 function addempSubmit(e)
{
    e.preventDefault();
    // addemp({  })
   const obj = {name:name.current.value,role:role.current.value,salary:salary.current.value}
console.log(obj)
Addemp(obj)
name.current.value=''
role.current.value=''
salary.current.value=''
  }
 function userhandle(e)
 {
   let item=e.target.value;
   if(item.length<4)
   {
      setuserErr(true);
   }
   else
   {
     setuserErr(false);
   }
 }
 function userhandle1(e)
 {
   let items=e.target.value;
   if(items=="")
   {
      setuserErr2(true);
   }
   else
   {
     setuserErr2(false);
   }
 }
 function userhandle2(e)
 {
   let items=e.target.value;
   if(items=="")
   {
      setuserErr4(true);
   }
   else
   {
     setuserErr4(false);
   }
 }
 
  
   
    return<div>
        <h2> Add employee</h2>
        <div class="row">
    <form class="col s12" onSubmit={addempSubmit}>  
      <div class="row">
        <div class="input-field col s12">
          <input ref={name} id="first_name" type="text" name="name"  onChange={userhandle}  />
          <label for="first_name">Name</label>
          {userErr?<p style={{ color: 'red' }}>Please enter valid name</p>:null}
          
          
        </div>
        <div class="input-field col s12">
          <input id="last_name" ref={role} type="text"  name="role" onChange={userhandle1}   />
          <label for="last_name">Role</label>
          {userErr1?<p style={{ color: 'red' }}>Please enter valid role</p>:null}
        </div>
      </div>
      
      <div class="row">
        <div class="input-field col s12">
          <input id="password" ref={salary} type="number" name="salary" onChange={userhandle2}  />
          <label for="password">Salary</label>
          {userErr3?<p style={{ color: 'red' }}>Please enter valid salary</p>:null}
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
        <input class="waves-effect waves-light btn" type="submit" />
        <a class="waves-effect waves-light btn">cancel</a>
        </div>
      </div>
    </form>
  </div>
        



        </div>

}
const mapStateToProps = (state) => state.add;
export default connect(mapStateToProps,{Addemp})(Addemployee);
